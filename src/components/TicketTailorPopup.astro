---

---

<dialog
  id="ticket-tailor-modal"
  class="fixed inset-0 m-auto bg-transparent backdrop:bg-black/80 backdrop:backdrop-blur-sm border-none p-4 md:p-0 w-[95%] max-w-4xl overflow-visible"
>
  <div class="relative bg-zinc-950 border border-white/10 rounded-2xl p-4 md:p-8 shadow-2xl">
    <button
      id="close-modal"
      class="absolute -top-4 -right-4 bg-zinc-900 text-white rounded-full p-2 hover:bg-zinc-800 border border-white/10 transition-colors z-[100] cursor-pointer"
      aria-label="Cerrar modal"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        ><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg
      >
    </button>
    <!-- Ticket Tailor Widget. Paste this into your website where you want the widget to appear. Do not change the code or the widget may not work properly. -->
    <div class="tt-widget">
      <!-- Fallback visibility improved -->
      <div class="tt-widget-fallback py-10 text-center">
        <p class="text-gray-400 mb-6">
          Si el buscador de entradas no carga correctamente, puedes comprarlas directamente en la
          web oficial.
        </p>
        <a
          href="https://www.tickettailor.com/checkout/new-session/id/7330734/chk/40c2/?ref=website_widget&show_search_filter=true&show_date_filter=true&show_sort=true"
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center justify-center px-8 py-3.5 font-bold uppercase tracking-wide text-sm bg-js-yellow text-js-black border-2 border-js-yellow rounded hover:bg-transparent hover:text-js-yellow transition-all"
        >
          <i class="fas fa-external-link-alt mr-2.5"></i> Ver entradas en Ticket Tailor
        </a>
      </div>
      <script
        is:inline
        src="https://cdn.tickettailor.com/js/widgets/min/widget.js"
        data-url="https://www.tickettailor.com/checkout/new-session/id/7330734/chk/40c2/?ref=website_widget&show_search_filter=true&show_date_filter=true&show_sort=true"
        data-type="inline"
        data-inline-minimal="true"
        data-inline-show-logo="false"
        data-inline-bg-fill="true"
        data-inline-inherit-ref-from-url-param=""
        data-inline-ref="website_widget"></script>
    </div><!-- End of Ticket Tailor Widget -->
  </div>
</dialog>

<script>
  const modal = document.getElementById('ticket-tailor-modal') as HTMLDialogElement
  const closeBtn = document.getElementById('close-modal')

  closeBtn?.addEventListener('click', () => {
    modal.close()
  })

  modal?.addEventListener('click', (e) => {
    if (e.target === modal) {
      modal.close()
    }
  })

  // Listen for custom event to open modal
  window.addEventListener('open-ticket-tailor', () => {
    modal.showModal()
    document.body.style.overflow = 'hidden'
  })

  modal?.addEventListener('close', () => {
    document.body.style.overflow = ''
  })
</script>

<style>
  dialog::backdrop {
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(4px);
  }

  dialog[open] {
    animation: zoom 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  @keyframes zoom {
    from {
      transform: scale(0.95);
      opacity: 0;
    }
    to {
      transform: scale(1);
      opacity: 1;
    }
  }
</style>

<style is:global>
  .tt-widget-inline {
    display: flex;
    justify-content: center;

    iframe {
      width: 100%;
      max-width: none;
    }
  }
</style>
