---
import Header from '@/sections/Header.astro'
import Footer from '@/sections/Footer.astro'
interface Props {
  title?: string
  description?: string
  canonical?: string
  ogImage?: string
  noindex?: boolean
}
const {
  title,
  description = 'La conferencia de JavaScript más importante de España. Madrid, 14 de marzo de 2026 en La Nave. Charlas, workshops, speakers y comunidad.',
  canonical,
  ogImage = 'https://jsconf.es/og.jpg',
  noindex = false,
} = Astro.props

const baseTitle = 'JSConf España 2026'
const pageTitle = title
  ? `${title} | ${baseTitle}`
  : `${baseTitle} — Conferencia de JavaScript en Madrid (14 de marzo)`
const pageUrl = canonical ?? Astro.url.href
---

<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <title>{pageTitle}</title>
    <meta name="description" content={description} />
    <meta
      name="robots"
      content={noindex
        ? 'noindex, nofollow'
        : 'index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1'}
    />
    <link rel="alternate" hreflang="es" href="https://jsconf.es" />
    <link rel="canonical" href={pageUrl} />

    <!-- OG Meta Tags -->
    <meta property="og:image" content={ogImage} />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="es_ES" />
    <meta property="og:title" content={pageTitle} />
    <meta property="og:description" content={description} />
    <meta property="og:url" content={pageUrl} />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@midudev" />
    <meta name="twitter:creator" content="@midudev" />
    <meta name="twitter:title" content={pageTitle} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={ogImage} />

    <!-- Structured Data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Event",
        "name": "JSConf España 2026",
        "startDate": "2026-03-14",
        "endDate": "2026-03-14",
        "eventAttendanceMode": "https://schema.org/OfflineEventAttendanceMode",
        "eventStatus": "https://schema.org/EventScheduled",
        "location": {
          "@type": "Place",
          "name": "La Nave Madrid",
          "address": {
            "@type": "PostalAddress",
            "streetAddress": "Calle Cifuentes, 5",
            "addressLocality": "Madrid",
            "postalCode": "28021",
            "addressCountry": "ES"
          }
        },
        "image": "https://jsconf.es/og.jpg",
        "description": "Conferencia de JavaScript en Madrid (España) con charlas, workshops y comunidad.",
        "keywords": [
          "JSConf España",
          "conferencia JavaScript",
          "JavaScript Madrid",
          "frontend",
          "Node.js",
          "TypeScript",
          "React",
          "Vue",
          "Angular",
          "rendimiento web",
          "testing",
          "talleres JavaScript",
          "charlas JavaScript",
          "comunidad JS",
          "desarrolladores",
          "La Nave Madrid",
          "speakers JavaScript",
          "sponsors tecnología"
        ],
        "organizer": {
          "@type": "Organization",
          "name": "JSConf España",
          "url": "https://jsconf.es"
        }
      }
    </script>
    <script src="https://js.tito.io/v2/with/inline/without/widget-css" async></script>
    <link rel="stylesheet" href="/css/tito-widget.css" />
  </head>
  <body class="relative">
    <div
      class="absolute h-full w-full bg-[url(/img/spotlight.webp)] bg-cover bg-no-repeat bottom-0 left-0 right-0 top-0 opacity-30 bg-top bg-blend-multiply"
    >
    </div>
    <div
      class="absolute h-full w-full bottom-0 left-0 right-0 top-0 bg-[linear-gradient(to_right,#4f4f4f2e_1px,transparent_1px),linear-gradient(to_bottom,#4f4f4f2e_1px,transparent_1px)] bg-[size:58px_58px] [mask-image:radial-gradient(ellipse_60%_50%_at_50%_0%,#000_70%,transparent_100%)]"
    >
    </div>
    <Header />
    <slot />
    <Footer />
  </body>
</html>

<style is:global>
  @import 'tailwindcss';
  @plugin "@tailwindcss/typography";

  @theme {
    /* Colors */
    --color-javascript: #f7df1e;
    --color-javascript-dark: #998c06;
    --color-light-gray: #7f7f7f;

    /* Font families */
    --font-clash: 'Clash', system-ui, sans-serif;
    --font-inter: 'Inter', system-ui, sans-serif;

    /* Background images */
    --background-image-javascript-radial: radial-gradient(
      ellipse farthest-corner at 0% 0%,
      #fffe65,
      #f7df1f
    );

    /* Spacing */
    --spacing-section: 1.5rem;
  }

  :root {
    color-scheme: light dark;
  }

  @font-face {
    font-family: 'Inter';
    font-style: normal;
    font-weight: 100 900;
    font-display: swap;
    src: url('/fonts/inter.woff2') format('woff2');
  }

  @font-face {
    font-family: 'Clash';
    font-style: normal;
    font-weight: 100 900;
    font-display: swap;
    src: url('/fonts/clash.woff2') format('woff2');
  }

  html,
  body {
    background: #000;
    font-family: 'Inter', sans-serif;
    margin: 0;
    width: 100%;
    height: 100%;
    scroll-behavior: smooth;
  }

  @media (prefers-reduced-motion) {
    html,
    body {
      scroll-behavior: auto;
    }
  }

  /* Scroll Reveal Animation */
  .animate-on-scroll {
    opacity: 0;
    transform: translateY(30px);
    transition:
      opacity 0.8s ease-out,
      transform 0.8s ease-out;
  }

  .animate-on-scroll.show {
    opacity: 1;
    transform: translateY(0);
  }
</style>

<script>
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add('show')
        }
      })
    },
    {
      threshold: 0.1,
    }
  )

  const hiddenElements = document.querySelectorAll('.animate-on-scroll')
  hiddenElements.forEach((el) => observer.observe(el))
</script>
