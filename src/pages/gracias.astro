---
import Layout from '@/layouts/Layout.astro'
import Container from '@/components/Container.astro'
import CrossContainerTitle from '@/components/CrossContainerTitle.astro'
import Button from '@/components/Button.astro'
import XLogo from '@/icons/XLogo.svg'

const TEXT =
  'Â¡Ya tengo mi entrada para la @JSConfES! ðŸŽ‰\n\nNos vemos el 14 de marzo del 2026 en Madrid. ðŸ‡ªðŸ‡¸\n\n#JSConfES #JavaScript'
const URL = 'https://jsconf.es'

const shareUrl = `https://x.com/intent/tweet?text=${encodeURIComponent(TEXT)}&url=${encodeURIComponent(URL)}`
---

<Layout
  title="Â¡Gracias por tu compra!"
  description="Gracias por comprar tus entradas para la JSConf EspaÃ±a 2026."
  noindex
>
  <main class="flex-1 flex flex-col justify-center min-h-[calc(100vh-200px)]">
    <Container class="items-center text-center">
      <h1
        class="font-clash text-white lg:text-7xl sm:text-5xl text-3xl text-center leading-tight mb-8"
      >
        Â¡Gracias por <CrossContainerTitle>comprar</CrossContainerTitle> tus entradas!
      </h1>

      <div class="space-y-6 max-w-2xl mx-auto text-xl text-neutral-300">
        <p>
          Estamos emocionados de que formes parte de la comunidad.
          <br />
          <span class="text-javascript font-bold">Â¡Nos vemos en la JSConf 2026!</span>
        </p>

        <p class="text-lg text-white/80">
          Nos ayuda muchÃ­simo si compartes que vienes con tus amigos y colegas:
        </p>

        <div class="pt-4 flex justify-center gap-4">
          <Button
            href={shareUrl}
            target="_blank"
            rel="noopener noreferrer"
            style="transparent"
            class="rounded-full share-button group"
          >
            <XLogo slot="icon-left" class="size-5 group-hover:invert" />
            Compartir en X
          </Button>
        </div>
      </div>
    </Container>
  </main>
</Layout>

<script>
  const shareButton = document.querySelector('.share-button')
  shareButton?.addEventListener('click', (e) => {
    e.preventDefault()
    const href = (e.currentTarget as HTMLAnchorElement).href
    window.open(href, 'share-x', 'width=600,height=400,resizable=yes,scrollbars=yes')
  })
</script>
