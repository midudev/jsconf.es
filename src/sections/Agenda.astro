---
import Container from '@/components/Container.astro'
import Talk from '@/components/Talk.astro'
import Break from '@/components/Break.astro'
import AddToCalendarDialog from '@/components/AddToCalendarDialog.astro'
import data from '@/data/agenda.json'

const { agenda, date } = data[0]
---

<section
  id="agenda"
  class="bg-black flex flex-col px-section text-white font-clash scroll-mt-28 py-24 border-t border-white/5"
>
  <Container class="w-full">
    <div class="text-center mb-16 animate-on-scroll">
      <h2 class="text-4xl md:text-5xl font-bold font-display mb-12 text-white tracking-tighter">
        Programa del <span class="text-js-yellow">Evento</span>
      </h2>
      <div class="flex flex-col md:flex-row gap-6 items-center justify-center">
        <div
          class="flex items-center gap-3 bg-white/5 px-6 py-2 rounded-full border border-white/10"
        >
          <i class="far fa-calendar-alt text-js-yellow"></i>
          <span class="text-xl font-bold tabular-nums text-white/90 tracking-tight">{date}</span>
        </div>
        <AddToCalendarDialog />
      </div>
    </div>

    <div class="flex flex-col gap-y-6 animate-on-scroll">
      {
        agenda.map((item) => {
          const { type } = item
          if (type === 'talk') {
            return <Talk item={item} />
          }
          if (type === 'break') {
            return <Break item={item} />
          }
          return null
        })
      }
    </div>
  </Container>
</section>
