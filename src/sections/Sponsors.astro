---
import sponsors from '@/data/sponsors.json'
import infojobsLogo from '@/icons/InfojobsLogo.svg?raw'
---

<section id="sponsors" class="py-20 bg-black relative overflow-hidden">
  <div class="container mx-auto px-5 text-center relative z-10">
    <h2 class="text-4xl md:text-5xl font-bold font-display mb-16 text-white">Nuestros Patrocinadores</h2>

    <!-- Principal Sponsor -->
    <div class="mb-16">
      <span class="text-sm uppercase tracking-[2px] text-js-yellow mb-5 block border-b border-white/10 pb-2.5 inline-block">
        <i class="fas fa-crown text-xl mr-2"></i> Principal Sponsor
      </span>
      <div class="flex flex-wrap justify-center items-center gap-10">
        <a 
          href="https://www.infojobs.net" 
          target="_blank" 
          rel="noopener noreferrer"
          class="bg-dark-surface rounded-lg flex items-center justify-center transition-all duration-300 p-8 w-[350px] h-[180px] border-2 border-js-yellow grayscale-0 opacity-100 hover:scale-105 hover:bg-[#252525] group text-white"
        >
          <div class="w-full h-auto px-4">
            <Fragment set:html={infojobsLogo} />
          </div>
        </a>
      </div>
    </div>

    <!-- Tiers from JSON -->
    {sponsors.map((tier) => (
      <div class="mb-16">
        <span class="text-sm uppercase tracking-[2px] text-gray-400 mb-5 block border-b border-white/10 pb-2.5 inline-block">
          <i class={`fas ${tier.icon === 'platinum' ? 'fa-gem' : 'fa-star'} text-xl mr-2`}></i> {tier.category.replace('Sponsors ', '')}
        </span>
        <div class="flex flex-wrap justify-center items-center gap-10">
          {tier.companies.map((company) => (
            <a 
              href={company.url} 
              target="_blank" 
              rel="noopener noreferrer"
              class="bg-dark-surface rounded-lg flex items-center justify-center transition-all duration-300 p-4 w-[280px] h-[140px] hover:scale-105 hover:bg-[#252525]"
            >
              {company.image ? (
                <img src={company.image} alt={company.name} class="max-w-[80%] max-h-[70%] object-contain" />
              ) : (
                <span class="text-white font-bold font-display text-2xl">{company.name}</span>
              )}
            </a>
          ))}
        </div>
      </div>
    ))}
    
    <div class="mt-12">
      <p class="text-gray-400 mb-5">¿Quieres apoyar la comunidad JavaScript en España?</p>
      <a 
        href="mailto:miduga@gmail.com" 
        class="inline-flex items-center justify-center px-8 py-3.5 font-bold uppercase tracking-wide text-sm bg-transparent border-2 border-white text-white rounded hover:bg-white hover:text-js-black transition-all"
      >
        Ponerse en contacto
      </a>
    </div>
  </div>
</section>
